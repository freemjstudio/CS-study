# 데이터베이스 키의 종류

### 키의 개념

키는 데이터베이스에서 조건에 만족하는 레코드을 찾거나 순서대로 정렬할 때 다른 레코드들과 구별할 수 있는 기준이 되는 속성이다.

<aside>
💡 튜플 == 레코드 == Row

</aside>

### 기본키(Primary Key)

- 유일성과 최소성을 만족하는 키이다.
- 하나의 릴레이션에서 특정 레코드를 유일하게 구별할 수 있는 속성이다.
- NOT-NULL
- 동일할 값이 중복되어 저장될 수 없다.
- 최소성을 만족해야하는데, 유일성이 존재하는 속성이 있다면, 복합키로 기본키를 만들 수 없다.
- 후보키 중 선택한 Main Key

> 기본키는 후보키 중에서 선택한 메인 키이면서, 각 Row(레코드, 튜플)을 구분하는 유일한 속성(Column)입니다. 그렇기 때문에, 기본키는 NOT-NULL이며, 중복된 값을 가질 수 없습니다. 또한 각 테이블(릴레이션) 당 한개만 지정되어야합니다. 그리고 유일성과 최소성을 모두 만족합니다.
> 

### 후보키

- 기본키가 될 수 있는 후보들이며, 유일성과 최소성을 동시에 만족하는 키이다.
- 릴레이션을 구성하는 속성들 중에서 레코드을 유일하게 식별할 수 있는 속성들의 부분집합
- 기본키는 후보키들 중 하나이다.
- NOT-NULL
- 모든 릴레이션은 반드시 하나 이상의 후보키를 가져야한다.

> 후보키는 테이블을 구성하는 컬럼 중에서 row를 유일하게 식별하기 위해 사용하는 컬럼들의 집합입니다. 결국 기본키로 사용할 수 있는 컬럼들을 말합니다.
> 

| 학번 | 이름 | 주민등록번호 | 학과 | 성별 |
| --- | --- | --- | --- | --- |
| 20171234 | 정도현 | 970603-11XXXX | 소프트웨어과 | 남 |
| 20171235 | 정현도 | 970603-12XXXX | 소프트웨어과 | 남 |
| 20171236 | 도현정 | 970605-20XXXX | 소프트웨어과 | 여 |
| 20171237 | 도정현 | 970601-20XXXX | 심리학과 | 여 |

### 슈퍼키

- 각 레코드을 유일하게 식별할 수 있는 유일성을 갖춘 키
- 슈퍼키는 최소성을 만족시키지 않는다.
- 복합키로 유일성을 만들었다면, 최소성을 만족시키지 못하기 때문에 이는 슈퍼키가 된다. 뭉쳤을때, 유일성이 생기고, 흩어지면 속성들이 유일성을 잃어버려 키로 사용할 수 없는 경우

### 외래키(Foreign Key)

- 다른 테이블의 기본키를 그대로 참조하는 값
- 관계를 맺고있는 릴레이션 R1, R2에서 릴레이션 R1이 참조하고 있는 릴레이션 R2의 기본키가 같은  R1의 릴레이션 속성
- 참조되는 릴레이션의 기본키와 대응되어 릴레이션 간에 참조 관계를 표현하는데 중요한 도구로 사용된다.
- **외래키로 지정되면 참조 테이블의 기본키에 없는 값은 입력할 수 없다. (참조무결성 조건)**

| id | name |
| --- | --- |
| 1 | Sam |
| 2 | Peter |

| id | user_id | email |
| --- | --- | --- |
| 1 | 1 | sam@naver.com |
| 2 | 2 | peter@naver.com |
| 3 | 3 | error@naver.com (X) |

### 대체키

- 후보키가 두 개 이상일 경우, 어느 하나를 기본키로 지정하고 남은 후보키들

### 인조키

- AUTO_INCREMENT 등 인조적으로 유일성을 확보하는 키
- 기본키를 주로 인조키로 사용함

### 자연키

- 중복되는 것을 제외하고 자연스럽게 뽑아 결정하는 기본키
- 변할 수 있다.